(this["webpackJsonpnumber-munchers"]=this["webpackJsonpnumber-munchers"]||[]).push([[0],[,,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(3),r=n.n(i),o=n(5),s=n.n(o),a=n(1),c=n(2),u=n(4),l=n(7),h=n(6),m=(n(15),n(16),n(0));var v=function(e){var t=e.options,n=e.onClick,i=t.map((function(t,i){var r=t.getName();return i===e.selected?Object(m.jsx)("li",{className:"selected",onClick:function(){return n(i)},children:r},r):Object(m.jsx)("li",{onClick:function(){return n(i)},children:r},r)}));return Object(m.jsx)("div",{className:"options",children:Object(m.jsx)("ol",{children:i})})},f="Multiples",d="Factors",g="Primes",b=(n(18),n(9)),y=n(10);n(19);var k=function(e){var t=e.cell,n=e.value,i=e.onClick;return Object(m.jsx)("div",{id:"c".concat(t),className:"square",onClick:i,children:n},t)};n(20),n(21);var j=function(e){var t=e.display,n="muncher";return void 0!==t&&(n="".concat(n," ").concat(t)),Object(m.jsx)("div",{ref:function(t){var n=t;n&&(n.style.left="".concat(n.getBoundingClientRect().width*e.position.x,"px"),n.style.top="".concat(n.getBoundingClientRect().height*e.position.y,"px"))},className:n})};n(22);var p=function(e){var t=e.message,n=e.onClick;return Object(m.jsxs)("div",{className:"notification",onClick:n,children:[t,Object(m.jsx)("br",{}),"Press Space Bar to continue."]})};n(23);function O(e,t){var n=Math.floor(Math.random()*e),i=Math.floor(Math.random()*t);return n>0&&n<e-1&&(i=Math.abs(t-1-i)<Math.abs(0-i)?t-1:0),i>0&&i<t-1&&(n=Math.abs(e-1-n)<Math.abs(0-n)?e-1:0),{position:{x:n,y:i},direction:0===n?{x:1,y:0}:n===e-1?{x:-1,y:0}:0===i?{x:0,y:1}:{x:0,y:-1}}}var x=function(e){var t=e.position,n=e.troggle,i="troggle ".concat(n);return Object(m.jsx)("div",{ref:function(e){var n=e;n&&(n.style.left="".concat(n.getBoundingClientRect().width*t.x,"px"),n.style.top="".concat(n.getBoundingClientRect().height*t.y,"px"))},className:i})};function w(e,t,n,i){for(var r=[],o=function(o){var s=t*e+o;r.push(Object(m.jsx)(k,{cell:s,value:n[s],onClick:function(){return i.click(o,t)}},"c".concat(s)))},s=0;s<e;s++)o(s);return r}var N=function(e){var t,n=e.height,i=e.width,r=e.squares,o=e.muncher,s=e.troggles,a=e.notification,c=e.movement,u=Object(y.useSwipeable)({onSwipedUp:function(){return c.keyDown("ArrowUp")},onSwipedDown:function(){return c.keyDown("ArrowDown")},onSwipedLeft:function(){return c.keyDown("ArrowLeft")},onSwipedRight:function(){return c.keyDown("ArrowRight")},preventDefaultTouchmoveEvent:!0});null!=a&&""!==a.trim()&&(t=Object(m.jsx)(p,{message:a,onClick:function(){return c.keyDown("Space")}}));for(var l=[],h=0;h<s.length;h++){var v=s[h];void 0!==v.position&&l.push(Object(m.jsx)(x,{position:v.position,troggle:v.troggle},h))}var f=function(e,t,n,i){for(var r=[],o=0;o<e;o++){var s=w(t,o,n,i);r.push(Object(m.jsx)("div",{className:"board-row",children:s},"row".concat(o)))}return r}(n,i,r,c);return Object(m.jsxs)("div",Object(b.a)(Object(b.a)({className:"board"},u),{},{children:[Object(m.jsx)(j,{position:o,display:o.display}),l,t,f]}))};n(24);var M=function(e){var t=e.status,n="";return void 0!==t&&""!==t&&(n=Object(m.jsx)("div",{className:"status",children:t})),n},S=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var i;Object(a.a)(this,n),i=t.call(this,e);var r=e.game,o={x:2,y:2};return i.state={game:r,level:1,score:0,lives:3,notification:"",status:"",muncher:o,troggles:[],squares:i.setupBoard(r,o)},i.keyDown=i.keyDown.bind(Object(u.a)(i)),i.clickedSquare=i.clickedSquare.bind(Object(u.a)(i)),i}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this;document.addEventListener("keydown",(function(t){e.keyDown(t.code)})),this.timer=setInterval((function(){e.troggle()}),4e3)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.keyDown),clearInterval(this.timer)}},{key:"setupBoard",value:function(e,t){e.resetNumber();var n=Array(30);n[6*t.y+t.x]="";for(var i=0;i<n.length;i++)""!==n[i]&&(n[i]=e.getFiller());return n}},{key:"troggle",value:function(){var e=this.state,t=e.squares,n=e.game,i=e.notification,r=e.level,o=e.troggles;if(""===i){for(var s=function(e,t,n,i){for(var r="",o=0;o<e.length;o++){var s=e[o];if(void 0===s.position){var a=O(n,i),c=a.position,u=a.direction;s.position=c,s.direction=u}}return e.length<Math.ceil(t/2)&&Math.random()<.2&&(e.push({troggle:"normalus"}),r="Troggle!"),{troggles:e,status:r}}(function(e,t,n){for(var i=[],r=0;r<e.length;r++){var o=e[r];void 0!==o.position&&(o.position.x+=o.direction.x,o.position.y+=o.direction.y,(o.position.x<0||o.position.y<0||o.position.x>t-1||o.position.y>n-1)&&i.push(r))}for(var s=0;s<i.length;s++)e.splice(s,1);return e}(o,6,5),r,6,5),a=0;a<s.troggles.length;a++){var c=s.troggles[a];void 0!==c.position&&""!==t[6*c.position.y+c.position.x]&&(t[6*c.position.y+c.position.x]=n.getFiller())}this.setState({troggles:s.troggles,status:s.status,squares:t}),this.troggleMuncherCheck()}}},{key:"keyDown",value:function(e){var t=this.state,n=t.notification,i=t.game,r=t.muncher;if(""===n)switch(e){case"Space":if(this.update(this.munch()),this.checkLevel()){var o=this.state.level;this.moveMuncher(2-r.x,2-r.y),this.setState({notification:"You beat the level!",level:o+1,troggles:[],status:"",squares:this.setupBoard(i,{x:2,y:2})})}break;case"ArrowLeft":this.moveMuncher(-1,0);break;case"ArrowRight":this.moveMuncher(1,0);break;case"ArrowUp":this.moveMuncher(0,-1);break;case"ArrowDown":this.moveMuncher(0,1)}else"Space"===e&&this.setState({notification:""})}},{key:"clickedSquare",value:function(e,t){var n=this,i=this.state,r=i.muncher;if(""===i.notification)if(e===r.x&&t===r.y)this.keyDown("Space");else{var o=Math.max(Math.min(e-r.x,1),-1),s=Math.max(Math.min(t-r.y,1),-1);this.timerX=setInterval((function(){n.moveMuncher(o,0);var t=n.state.muncher;e===t.x&&clearInterval(n.timerX)}),200),setTimeout((function(){n.timerY=setInterval((function(){n.moveMuncher(0,s);var e=n.state.muncher;t===e.y&&clearInterval(n.timerY)}),200)}),100)}}},{key:"moveMuncher",value:function(e,t){var n=this.state.muncher;this.setState({muncher:{x:Math.min(Math.max(0,n.x+e),5),y:Math.min(Math.max(0,n.y+t),4)}}),this.troggleMuncherCheck()}},{key:"troggleMuncherCheck",value:function(){for(var e=this.state,t=e.troggles,n=e.muncher,i=this.state.lives,r=0;r<t.length;r++){var o=t[r];if(void 0!==o.position&&o.position.x===n.x&&o.position.y===n.y){i--,n.display="none",clearInterval(this.timerX),clearInterval(this.timerY),this.setState({notification:"Yikes! You were eaten by a Trogglus ".concat(o.troggle,"."),lives:i,muncher:n}),this.endGame();break}n.display="",this.setState({muncher:n})}}},{key:"endGame",value:function(){var e=this.state,t=e.lives,n=e.game;0===t&&this.setState({squares:this.setupBoard(n,{x:2,y:2}),muncher:{x:2,y:2},score:0,lives:3,level:1,notification:"You lost the game!",troggles:[],status:""})}},{key:"munch",value:function(){var e=this.state,t=e.squares,n=e.muncher,i=e.game,r=t[6*n.y+n.x];t[6*n.y+n.x]="",this.setState({squares:t});var o=!0;return""!==r&&(o=i.isCorrect(r)),{isValid:o,value:r}}},{key:"update",value:function(e){var t=e.isValid,n=e.value,i=this.state,r=i.score,o=i.lives,s=this.state.game;t&&""!==n?r+=5:t||(this.setState({notification:s.getError(n)}),o--),this.setState({score:r,lives:o}),this.endGame()}},{key:"checkLevel",value:function(){for(var e=this.state,t=e.squares,n=e.game,i=0;i<t.length;i++)if(""!==t[i]&&n.isCorrect(t[i]))return!1;return!0}},{key:"render",value:function(){for(var e=this,t=this.state,n=t.level,i=t.game,r=t.muncher,o=t.troggles,s=t.squares,a=t.score,c=t.lives,u=t.notification,l=t.status,h=[],v=0;v<c;v++)h.push(Object(m.jsx)("span",{className:"life"},v));return Object(m.jsxs)("div",{className:"full",children:[Object(m.jsxs)("div",{className:"info",children:[Object(m.jsx)("div",{className:"level",children:"Level: ".concat(n)}),Object(m.jsx)("div",{className:"title",children:i.getTitle()})]}),Object(m.jsx)(M,{status:l}),Object(m.jsx)(N,{height:5,width:6,troggles:o,muncher:r,squares:s,notification:u,movement:{keyDown:this.keyDown,click:function(t,n){return e.clickedSquare(t,n)}}}),Object(m.jsxs)("div",{className:"info",children:[Object(m.jsxs)("div",{className:"score",children:[Object(m.jsx)("span",{children:"Score:"})," ",Object(m.jsx)("span",{className:"points",children:a})]}),Object(m.jsx)("div",{className:"lives",children:h})]})]})}}]),n}(r.a.Component),C=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;Object(a.a)(this,e),this.minNum=t,this.maxNum=n,this.minMult=1,this.maxMult=i,this.resetNumber()}return Object(c.a)(e,[{key:"resetNumber",value:function(){for(var e=this.number;e===this.number;)this.number=Math.floor(this.minNum+Math.random()*(this.maxNum-this.minNum+1))}},{key:"getName",value:function(){return f}},{key:"getScreen",value:function(){return Object(m.jsx)(S,{game:this})}},{key:"getNumber",value:function(){return this.number}},{key:"getTitle",value:function(){return"".concat(this.getName()," of ").concat(this.number)}},{key:"getMultiple",value:function(){var e=this.minMult+Math.round(Math.random()*(this.maxMult-this.minMult));return this.number*e}},{key:"getNonMultiple",value:function(){for(var e=0;this.isCorrect(e);)e=Math.floor(Math.random()*(this.maxMult*this.number))+1;return e}},{key:"getFiller",value:function(){return Math.random()<.4?this.getMultiple():this.getNonMultiple()}},{key:"isCorrect",value:function(e){return e%this.number===0}},{key:"getError",value:function(e){return'"'.concat(e,'" is not a multiple of "').concat(this.getNumber(),'".')}}]),e}(),D=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25;Object(a.a)(this,e),this.minNum=t,this.maxNum=n,this.resetNumber()}return Object(c.a)(e,[{key:"resetNumber",value:function(){for(var e=this,t=this.number;t===this.number;)this.number=Math.floor(this.minNum+Math.random()*(this.maxNum-this.minNum+1));this.factors=Array.from(Array(this.number+1),(function(e,t){return t})).filter((function(t){return e.number%t===0}))}},{key:"getName",value:function(){return d}},{key:"getScreen",value:function(){return Object(m.jsx)(S,{game:this})}},{key:"getNumber",value:function(){return this.number}},{key:"getTitle",value:function(){return"".concat(this.getName()," of ").concat(this.number)}},{key:"getFactor",value:function(){return this.factors[Math.floor(Math.random()*this.factors.length)]}},{key:"getNonFactor",value:function(){for(var e=1;this.isCorrect(e);)e=1+Math.floor(Math.random()*this.number);return e}},{key:"getFiller",value:function(){return Math.random()<.4?this.getFactor():this.getNonFactor()}},{key:"isCorrect",value:function(e){return this.factors.includes(e)}},{key:"getError",value:function(e){return'"'.concat(e,'" is not a factor of "').concat(this.getNumber(),'".')}}]),e}(),E=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:7;Object(a.a)(this,e);var i=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199];this.primes=i.filter((function(e){return e>=t&&e<=n})),this.minNum=t,this.maxNum=n,this.resetNumber()}return Object(c.a)(e,[{key:"resetNumber",value:function(){this.number=null}},{key:"getName",value:function(){return g}},{key:"getScreen",value:function(){return Object(m.jsx)(S,{game:this})}},{key:"getNumber",value:function(){return this.number}},{key:"getTitle",value:function(){return"Prime Numbers"}},{key:"getPrime",value:function(){return this.primes[Math.floor(Math.random()*this.primes.length)]}},{key:"getNonPrime",value:function(){for(var e=2;this.isCorrect(e);)e=1+Math.floor(Math.random()*this.maxNum);return e}},{key:"getFiller",value:function(){return Math.random()<.4?this.getPrime():this.getNonPrime()}},{key:"isCorrect",value:function(e){return this.primes.includes(e)}},{key:"getError",value:function(e){return'The number "'.concat(e,'" is not prime.')}}]),e}(),q=function(){function e(){Object(a.a)(this,e)}return Object(c.a)(e,[{key:"getName",value:function(){return"Play Number Munchers"}},{key:"getScreen",value:function(){return Object(m.jsx)(J,{question:"Which Number Munchers game would you like to play",options:[new C,new D,new E],instructions:"Use Arrows to move, then press Enter"})}}]),e}(),A=function(){function e(){Object(a.a)(this,e)}return Object(c.a)(e,[{key:"getName",value:function(){return"Hall of Fame"}}]),e}(),L=function(){function e(){Object(a.a)(this,e)}return Object(c.a)(e,[{key:"getName",value:function(){return"Information"}}]),e}(),B=function(){function e(){Object(a.a)(this,e)}return Object(c.a)(e,[{key:"getName",value:function(){return"Set Difficulty Level"}}]),e}(),F=function(){function e(){Object(a.a)(this,e)}return Object(c.a)(e,[{key:"getName",value:function(){return"Set Content"}}]),e}(),I=function(){function e(){Object(a.a)(this,e)}return Object(c.a)(e,[{key:"getName",value:function(){return"Erase Hall of Fame"}}]),e}(),T=function(){function e(){Object(a.a)(this,e)}return Object(c.a)(e,[{key:"getName",value:function(){return"Set Password"}}]),e}(),U=function(){function e(){Object(a.a)(this,e)}return Object(c.a)(e,[{key:"getName",value:function(){return"Turn Joystick ON"}}]),e}(),P=function(){function e(){Object(a.a)(this,e)}return Object(c.a)(e,[{key:"getName",value:function(){return"Calibrate Joystick"}}]),e}(),R=function(){function e(){Object(a.a)(this,e)}return Object(c.a)(e,[{key:"getName",value:function(){return"Options"}},{key:"getScreen",value:function(){return Object(m.jsx)(J,{question:"Choose an option:",options:[new B,new F,new I,new T,new U,new P],instructions:"Use Arrows to move, then press Enter. Escape: Main Menu"})}}]),e}(),Y=function(){function e(){Object(a.a)(this,e)}return Object(c.a)(e,[{key:"getName",value:function(){return"Quit"}}]),e}(),J=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var i;return Object(a.a)(this,n),(i=t.call(this,e)).state={selected:0},i.keyDown=i.keyDown.bind(Object(u.a)(i)),i.clickedOption=i.clickedOption.bind(Object(u.a)(i)),i}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this;document.addEventListener("keydown",(function(t){e.keyDown(t.code)}))}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.keyDown)}},{key:"keyDown",value:function(e){switch(e){case"Enter":this.select();break;case"ArrowLeft":case"ArrowUp":this.select(-1);break;case"ArrowRight":case"ArrowDown":this.select(1);break;case"Escape":document.removeEventListener("keydown",this.keyDown),s.a.render(Object(m.jsx)(n,{question:"",options:[new q,new A,new L,new R,new Y],instructions:"Use Arrows to move, then press Enter",background:"opening"}),document.getElementById("root"))}}},{key:"clickedOption",value:function(e){e===this.state.selected?this.select():this.setState({selected:e})}},{key:"select",value:function(e){var t=this.state.selected,n=this.props.options;void 0===e?(document.removeEventListener("keydown",this.keyDown),s.a.render(n[t].getScreen(),document.getElementById("root"))):((t+=e)<0?t=n.length-1:t>=n.length&&(t=0),this.setState({selected:t}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.question,i=t.options,r=t.instructions,o=t.background,s=this.state.selected,a="menu ".concat(o);return Object(m.jsx)("div",{className:"all",children:Object(m.jsxs)("div",{className:a,children:[Object(m.jsx)("div",{className:"text",children:n}),Object(m.jsx)(v,{options:i,selected:s,onClick:function(t){return e.clickedOption(t)}}),Object(m.jsx)("div",{className:"text",children:r})]})})}}]),n}(r.a.Component);n(25);s.a.render(Object(m.jsx)(J,{question:"",options:[new q,new A,new L,new R,new Y],instructions:"Use Arrows to move, then press Enter",background:"opening"}),document.getElementById("root"))}],[[26,1,2]]]);
//# sourceMappingURL=main.eda18ce1.chunk.js.map